<!DOCTYPE html>
<html>
<head>
	<title>My Contacts</title>

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>

	<script type="application/javascript" src="http://bridgeit.github.io/bridgeit.js/src/bridgeit.js"></script>
</head>
<body>

<div data-role="page">
	<div data-role="header">
		<h1>My Contacts</h1>
	</div><!-- /header -->

	<div data-role="content">
		<a type="button" onclick="bridgeit.fetchContact('myContacts','onAfterFetchContact');">
		   Fetch a Contact
		</a>
		<script type="text/javascript">
		function onAfterFetchContact(event){
			var text = unescape(event.value);
	        var record = bridgeit.url2Object(text);
	        var elem = document.getElementById("contacts");
	        var item = document.createElement('li');
	        var recordHTML = '';
	        for (var key in record)  {
	            recordHTML += "<span><strong>" + key + ": </strong>" + record[key] + "</span><br/>";  
	        }
	        item.innerHTML = recordHTML;
	        elem.insertBefore(item, elem.firstChild);
	        $( "#contacts" ).listview( "refresh" );
		}
		</script>
		<p>
			<ul id="contacts" data-role="listview" data-filter="true" data-filter-placeholder="Contact List..." data-inset="true">
			</ul>
		</p>
	</div><!-- /content -->

</div><!-- /page -->

</body>
</html>